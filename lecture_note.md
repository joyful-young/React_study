# 한입 크기로 잘라 먹는 리액트 강의 노트

## 5. React는 왜 필요한걸까?

### 5-1. Why React.js

1. React는 Component 기반의 UI 라이브러리이다.

  - `Shotgun Surgery`
    - 많은 중복 코드들이 존재하고 그 중복 코드에 변경이 일어났을 때 모든 중복되는 부분을 수정해야 하는 경우
    - `유지보수`의 문제 발생

  - 웹사이트에는 공통 부분이 많이 존재

  - `컴포넌트화`: 자주 사용될 것 같은 요소들을 별도의 파일이나 모듈로 저장
    - 필요한 부분마다 간단히 불러다 쓸 수 있다
    - 컴포넌트 파일만 수정하면 컴포넌트가 사용되는 모든 부분들이 자동으로 수정된다
    - 유지보수 난이도 감소

2. React는 선언형 프로그래밍으로 웹서비스를 설계한다.

  - 명령형 프로그래밍
    - 절차를 하나하나 다 나열해야 함.
    - jQuery

  - 선언형 프로그래밍
    - 목적을 바로 말함
    - React
    - 비교적 간단

3. Virtual DOM

  - `DOM(Document Object Model)`
    - 웹브라우저가 HTML의 요소들을 트리 형태로 변환시켜놓은 객체
  
  - DOM을 계속 변경해 잦은 업데이트를 하다보면 브라우저는 필요 이상의 많은 연산 수행 -> 성능저하

  - `Virtual DOM`
    - DOM의 변화를 가상의 DOM에 미리 업데이트 시켜본 다음 변화들을 모아 한 번에 렌더링함으로써 과다 연산 해결

### 5-2. Create React App

- 리액트를 도와줄 추가적인 라이브러리 필요
  - Webpack, Babel, ...

- `Boiler Plate`
  - 이미 세팅 완료된 패키지

- `JSX`
  - 자바스크립트와 HTML을 합쳐서 사용할 수 있는 문법

- `CommonJS`, `ES Module` 찾아보기

### 5-3. JSX

- 단독으로 쓸 수 있는 태그의 경우 닫아줘야한다.
  - `<br />`
- 반드시 하나의 최상위 태그가 있어야 한다.
- 클래스를 지정할 때에는 `className`
  - `class`는 자바스크립트의 예약어이기 때문
- CSS 파일을 사용하지 않고도 스타일을 객체로 만들어서 인라인 스타일 사용 가능
- `{}` 안에 boolean이나 배열을 넣으면 렌더링되지 않음. 숫자나 문자열 넣기
- `{}`에서 삼항연산자도 사용 가능

### 5-4. State(상태)

- `State`
  - 계속해서 변화하는 특정 상태
  - 상태에 따라 각각 다른 동작을 함

- 컴포넌트는 자신이 가진 State가 변화하면 리렌더한다. 컴포넌트 파일의 함수가 다시 실행된다.

### 5-5. Props

- 자식 컴포넌트로 데이터 전달
- props는 객체 형태로 전달됨
  - 전달할 데이터가 여러 개일 경우, 부모 컴포넌트에서 아예 객체로 정의해서 `spread 연산자`로 자식 컴포넌트로 전달하고, 자식 컴포넌트에서는 `구조분해할당`을 통해 받아서 점표기법을 이용하지 않고 바로 변수로 사용 가능
  - 전달되지 않은 값을 자식 컴포넌트에서 부르면 `undefined`

- `defaultProps`
  - 전달받지 못한 props의 기본값을 설정해서 에러를 방지할 수 있음

    ```javascript
    <컴포넌트명>.defaultProps = {
      initialValue: 0
    }
    ```

- 컴포넌트 자체를 `props`로 전달할 수 있다.
  - 컴포넌트 사이에 JSX 요소들을 배치하면 그 부분이 props로 전달됨


### [참고] React 컴포넌트가 리렌더되는 경우

1. 그 컴포넌트가 가진 state가 바뀔 때
2. 그 컴포넌트에 내려오는 props가 바뀔 때
3. 그 컴포넌트의 부모 컴포넌트가 리렌더될 때